<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Greedy Algorithm | Chaoxiang&#39;s Study Notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/studyPages/assets/css/0.styles.d1a6705c.css" as="style"><link rel="preload" href="/studyPages/assets/js/app.b38cab34.js" as="script"><link rel="preload" href="/studyPages/assets/js/2.1626cb31.js" as="script"><link rel="preload" href="/studyPages/assets/js/11.087a96f6.js" as="script"><link rel="prefetch" href="/studyPages/assets/js/10.35ace908.js"><link rel="prefetch" href="/studyPages/assets/js/12.f0e6442a.js"><link rel="prefetch" href="/studyPages/assets/js/13.5e386017.js"><link rel="prefetch" href="/studyPages/assets/js/14.c87a4647.js"><link rel="prefetch" href="/studyPages/assets/js/15.02e1028a.js"><link rel="prefetch" href="/studyPages/assets/js/16.27d3c376.js"><link rel="prefetch" href="/studyPages/assets/js/17.ca0774d0.js"><link rel="prefetch" href="/studyPages/assets/js/18.915810d3.js"><link rel="prefetch" href="/studyPages/assets/js/19.b1da4c38.js"><link rel="prefetch" href="/studyPages/assets/js/20.018fba21.js"><link rel="prefetch" href="/studyPages/assets/js/21.64dab9d9.js"><link rel="prefetch" href="/studyPages/assets/js/22.6775df76.js"><link rel="prefetch" href="/studyPages/assets/js/23.f3593274.js"><link rel="prefetch" href="/studyPages/assets/js/24.3a7e16bd.js"><link rel="prefetch" href="/studyPages/assets/js/25.13485e0a.js"><link rel="prefetch" href="/studyPages/assets/js/26.d0f87dff.js"><link rel="prefetch" href="/studyPages/assets/js/27.56c84efb.js"><link rel="prefetch" href="/studyPages/assets/js/28.c6af8a09.js"><link rel="prefetch" href="/studyPages/assets/js/29.b4036b19.js"><link rel="prefetch" href="/studyPages/assets/js/3.73690c6a.js"><link rel="prefetch" href="/studyPages/assets/js/30.825317f9.js"><link rel="prefetch" href="/studyPages/assets/js/31.ed696c4b.js"><link rel="prefetch" href="/studyPages/assets/js/32.9913bcdf.js"><link rel="prefetch" href="/studyPages/assets/js/4.0bf5fde3.js"><link rel="prefetch" href="/studyPages/assets/js/5.f2c33806.js"><link rel="prefetch" href="/studyPages/assets/js/6.83bf3420.js"><link rel="prefetch" href="/studyPages/assets/js/7.826098d5.js"><link rel="prefetch" href="/studyPages/assets/js/8.c864b340.js"><link rel="prefetch" href="/studyPages/assets/js/9.3b04fc4a.js">
    <link rel="stylesheet" href="/studyPages/assets/css/0.styles.d1a6705c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/studyPages/" class="home-link router-link-active"><!----> <span class="site-name">Chaoxiang's Study Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/studyPages/" class="nav-link">
  HOME
</a></div><div class="nav-item"><a href="/studyPages/algorithm/" class="nav-link router-link-active">
  ALGORITHM
</a></div><div class="nav-item"><a href="/studyPages/javascript/" class="nav-link">
  JAVASCRIPT
</a></div><div class="nav-item"><a href="/studyPages/article/" class="nav-link">
  ARTICLE
</a></div><div class="nav-item"><a href="https://github.com/LUAN-Peter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GITHUB
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/studyPages/" class="nav-link">
  HOME
</a></div><div class="nav-item"><a href="/studyPages/algorithm/" class="nav-link router-link-active">
  ALGORITHM
</a></div><div class="nav-item"><a href="/studyPages/javascript/" class="nav-link">
  JAVASCRIPT
</a></div><div class="nav-item"><a href="/studyPages/article/" class="nav-link">
  ARTICLE
</a></div><div class="nav-item"><a href="https://github.com/LUAN-Peter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GITHUB
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/studyPages/algorithm/" aria-current="page" class="sidebar-link">Algorithm</a></li><li><a href="/studyPages/algorithm/dualPointer.html" class="sidebar-link">Dual Pointers</a></li><li><a href="/studyPages/algorithm/dynamicProgram.html" class="sidebar-link">Dynamic Programming</a></li><li><a href="/studyPages/algorithm/greedy.html" aria-current="page" class="active sidebar-link">Greedy Strategy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/studyPages/algorithm/greedy.html#rabbits-in-forest" class="sidebar-link">Rabbits in Forest</a></li><li class="sidebar-sub-header"><a href="/studyPages/algorithm/greedy.html#candy" class="sidebar-link">Candy</a></li></ul></li><li><a href="/studyPages/algorithm/dfs.html" class="sidebar-link">Depth-first Search</a></li><li><a href="/studyPages/algorithm/unionfind.html" class="sidebar-link">Union Find</a></li><li><a href="/studyPages/algorithm/other.html" class="sidebar-link">Other</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="greedy-algorithm">Greedy Algorithm</h1> <blockquote><p>Greedy 'algorithm' is a strategy or a thought instead of a certain algorithm in my opinion. We choose the optimal choice at every step so as to find the overall optimization.<br>
While in most cases, greedy algorithm is not suitable. So we always have to prove the effectiveness of greedy algorithm. As we know, <strong>Huffman Coding</strong> and <strong>Dijkstra's Algorithm</strong> are famous greedy algorithm.</p></blockquote> <h2 id="rabbits-in-forest">Rabbits in Forest</h2> <p><a href="https://leetcode-cn.com/problems/rabbits-in-forest/" target="_blank" rel="noopener noreferrer">to LeetCode 781<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>In a forest, each rabbit has some color. Some subset of rabbits (possibly all of them) tell you how many other rabbits have the same color as them. Those answers are placed in an array.<br>
Return the minimum number of rabbits that could be in the forest.<br> <strong>Input</strong>: [1, 1, 2]<br> <strong>Output</strong>: 5</p></blockquote> <p><img src="/studyPages/assets/img/rabbit.5d74e156.png" alt="Image"></p> <h3 id="thinking">Thinking:</h3> <p>The problem need the minimum number of rabbits. After analyzation, we can deduct that there should be at least <code>n + 1</code> rabbits have same color, if there are <code>n + 1</code> rabbits said have seen <code>n</code> same color. This step can 'utilize' the rabbits given mostly, or to say to minimize the 'potential' rabbits. In the program, we can build up a <strong>Hash Map</strong>. If a tuple has accumulates to the certain value, we can sum it up to result and delete it.<br>
Actually, the step judging the accumulation is trivial. The Official solution has a better method. Firstly, we just need to group rabbits with the same value into smae group, and record their number. Then if there are <code>x</code> rabbits answer <code>y</code>, we have <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mi>b</mi><mi>e</mi><msub><mi>r</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>=</mo><mo>⌈</mo><mfrac><mrow><mi>x</mi></mrow><mrow><mi>y</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>⌉</mo><mo>×</mo><mo>(</mo><mi>y</mi><mo>+</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">number_{min}=\lceil\frac{x}{y+1}\rceil\times(y+1)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.2311079999999999em;vertical-align:-0.481108em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span><span class="mord mathit">u</span><span class="mord mathit">m</span><span class="mord mathit">b</span><span class="mord mathit">e</span><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">m</span><span class="mord mathit">i</span><span class="mord mathit">n</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mopen">⌈</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">x</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mclose">⌉</span><span class="mbin">×</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mbin">+</span><span class="mord mathrm">1</span><span class="mclose">)</span></span></span></span>. The first part <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⌈</mo><mfrac><mrow><mi>x</mi></mrow><mrow><mi>y</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>⌉</mo></mrow><annotation encoding="application/x-tex">\lceil\frac{x}{y+1}\rceil</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.2311079999999999em;vertical-align:-0.481108em;"></span><span class="base textstyle uncramped"><span class="mopen">⌈</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">x</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mclose">⌉</span></span></span></span> is the number of color among those rabbits answer <code>y</code>. And the second part <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">y+1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span> is the number of rabbits of every color. In this case, we have <code>Solution B</code>.</p> <h3 id="solution-a">Solution A:</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {number[]} answers
 * @return {number}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">numRabbits</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">answers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> answer <span class="token keyword">of</span> answers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>answer<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span> <span class="token operator">==</span> answer <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result <span class="token operator">+=</span> answer <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">+=</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="solution-b">Solution B:</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {number[]} answers
 * @return {number}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">numRabbits</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">answers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> answer <span class="token keyword">of</span> answers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>answer<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>value <span class="token operator">/</span> <span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="candy">Candy</h2> <p><a href="https://leetcode-cn.com/problems/candy/" target="_blank" rel="noopener noreferrer">to LeetCode 135<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>There are n children standing in a line. Each child is assigned a rating value given in the integer array ratings. You are giving candies to these children subjected to the following requirements:</p> <ul><li>Each child must have at least one candy.</li> <li>Children with a higher rating get more candies than their neighbors.</li></ul> <p>Return the minimum number of candies you need to have to distribute the candies to the children.<br> <strong>Input</strong>: ratings = [1, 0, 2]
<strong>Output</strong>: 5
1 1 2</p></blockquote> <h3 id="thinking-2">Thinking:</h3> <p>A simple idea is dividing the rules into two parts.</p> <ol><li>From left to right, the children <code>i + 1</code> has more candies than <code>i</code>, if the <code>rating[i + 1] &gt; rating[i]</code>.</li> <li>From right to left, the children <code>i - 1</code> has more candies than <code>i</code>, if the <code>rating[i - 1] &gt; rating[i]</code>.</li></ol> <p>If a distribution satisfiy the conditions, it may be a solution. But we should calculate the minimum. So we use an array to store the candies distribution, and initialize the values with <code>1</code>. Then we scan it from left to right. If we find the next one rate is bigger than this one, we give <code>candies[i] + 1</code> to the <code>i + 1</code> child. Then we go back from right to left. The only difference is we choose the maximum between the new number and the old one.<br>
By the way, when it comes to the problem like this - shape like a mountain, we could considering using the method mentioned above. Tranverse twice with different rules.</p> <h3 id="solution">Solution:</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {number[]} ratings
 * @return {number}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">candy</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ratings</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">N</span> <span class="token operator">=</span> ratings<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">const</span> candies <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token constant">N</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token constant">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> ratings<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> candies<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token constant">N</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> ratings<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> candies<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    candies<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">elem</span> <span class="token operator">=&gt;</span> result <span class="token operator">+=</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/16/2021, 4:04:28 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/studyPages/algorithm/dynamicProgram.html" class="prev">
        Dynamic Programming
      </a></span> <span class="next"><a href="/studyPages/algorithm/dfs.html">
        Depth-first Search
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/studyPages/assets/js/app.b38cab34.js" defer></script><script src="/studyPages/assets/js/2.1626cb31.js" defer></script><script src="/studyPages/assets/js/11.087a96f6.js" defer></script>
  </body>
</html>
